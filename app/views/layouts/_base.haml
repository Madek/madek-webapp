!!!
-# NOTE: class 'has-js' is set dynamically with — suprise! — JavaScript.
%html{lang: 'de-CH'}
  %head
    %meta{charset: 'utf-8'}
    %title
      - if content_for?(:title_head)
        = strip_tags(content_for(:title_head))
      - else
        -# TODO: raise this
        - Rails.logger.warn('View did not give content_for(:title_head)!')
        = 'Madek'

    -# init ujs as early as possible (just sets a class so correct styles are used):
    :javascript
      document.getElementsByTagName('html')[0].classList.add('has-js')

    = stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track' => true
    = content_for(:style_head)

    -# TODO: favicon(s)
    -# %link{href: '/favicon.ico', rel: 'shortcut icon', type: 'image/x-icon'}

    = csrf_meta_tag

    -# optional extra tags for head:
    = content_for(:head)
  %body
    = content_for(:body)
    -# js: app lib/dependencies. can't use async/defer (would require sep. DOM ops)
    = javascript_include_tag 'application', 'data-turbolinks-track' => true
    -# - now all the per-template scripts, which
        MUST be self-contained and not depending on load order:
    = content_for(:scripts) if content_for?(:scripts)
    -# finally, some dev tools (attached to window for console)
    - if Rails.env == 'development'
      = javascript_include_tag 'developer-tools'

  -# Implicit *yield*, don't put one here or it double-renders!
  -# Also, when in doubt use `content_for(:body)` in views.
