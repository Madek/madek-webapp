:ruby
  # copied from <https://github.com/cider-ci/cider-ci_user-interface/blob
  # /250d4018de10b7b9103c547dce23129e62078d62
  # /app/views/application/_semantic_version.html.haml>

  # TODO: move this to shared components

  example_locals = {
    version: {
      major: 1,
      minor: 1,
      patch: 1,
      pre: 'beta.3',
      build: 'abcd1234'
    },
    prefix: 'v'
  }
  version ||= version
  prefix ||= prefix
  unless (version.is_a? Hash \
    and version[:major] and version[:minor] and version[:patch])
    throw 'ui: semver: bad version config!'
  end

%span.semantic-version<>
  = prefix
  %span.major<>
    =Settings.release.version_major.to_s
  %span.minor<>
    %span.divider<>='.'
    =Settings.release.version_minor.to_s
  %span.minor<>
    %span.divider<>='.'
    =Settings.release.version_patch.to_s
  - if Settings.release.version_pre.present?
    %span.version<>
      %span.divider<>='-'
      =Settings.release.version_pre.to_s
  - if Settings.release.version_build.present?
    %span.build<>
      %span.divider<>='+'
      =Settings.release.version_build.to_s
